{"ast":null,"code":"const ODOO_URL = process.env.REACT_APP_ODOO_URL || 'https://ahmadnuman-dev.odoo.com';\nconst ODOO_DB = process.env.REACT_APP_ODOO_DB || 'ahmadnuman-dev';\nexport class Odoo19API {\n  constructor() {\n    this.uid = null;\n  }\n  async authenticate(username, password) {\n    try {\n      const response = await fetch(`${ODOO_URL}/jsonrpc/2`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          jsonrpc: \"2.0\",\n          method: \"call\",\n          params: {\n            service: \"common\",\n            method: \"authenticate\",\n            args: [ODOO_DB, username, password, {}]\n          },\n          id: 1\n        })\n      });\n      const data = await response.json();\n      if (data.error) {\n        throw new Error(data.error.data.message || 'Authentication failed');\n      }\n      this.uid = data.result;\n      return data.result;\n    } catch (error) {\n      console.error('Authentication error:', error);\n      throw error;\n    }\n  }\n  async executeKw(model, method, args = [], kwargs = {}) {\n    const response = await fetch(`${ODOO_URL}/jsonrpc/2`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        jsonrpc: \"2.0\",\n        method: \"call\",\n        params: {\n          service: \"object\",\n          method: \"execute_kw\",\n          args: [ODOO_DB, this.uid, 'password', model, method, args, kwargs]\n        },\n        id: Math.floor(Math.random() * 1000)\n      })\n    });\n    const data = await response.json();\n    if (data.error) {\n      throw new Error(data.error.data.message || 'API Error');\n    }\n    return data.result;\n  }\n  async getEmployeeData(employeeId = null) {\n    try {\n      if (!employeeId) {\n        var _userData$;\n        const userData = await this.executeKw('res.users', 'read', [[this.uid], ['employee_id', 'name', 'email']]);\n        if (userData && (_userData$ = userData[0]) !== null && _userData$ !== void 0 && _userData$.employee_id) {\n          employeeId = userData[0].employee_id[0];\n        } else {\n          var _userData$2, _userData$3;\n          // If no employee ID, return user data\n          return {\n            name: ((_userData$2 = userData[0]) === null || _userData$2 === void 0 ? void 0 : _userData$2.name) || '',\n            work_email: ((_userData$3 = userData[0]) === null || _userData$3 === void 0 ? void 0 : _userData$3.email) || '',\n            job_title: '',\n            work_location: ''\n          };\n        }\n      }\n\n      // Get employee details\n      const employeeData = await this.executeKw('hr.employee', 'read', [[employeeId], ['name', 'job_title', 'work_email', 'work_phone', 'work_location', 'image_1920', 'department_id', 'parent_id', 'coach_id', 'linkedin_profile', 'github_profile']]);\n      return employeeData ? employeeData[0] : null;\n    } catch (error) {\n      console.error('Error getting employee data:', error);\n      return null;\n    }\n  }\n\n  // Simple search method\n  async searchRead(model, domain = [], fields = [], limit = 80) {\n    return this.executeKw(model, 'search_read', [domain, fields, 0,\n    // offset\n    limit]);\n  }\n}\n\n// Create and export instance\nexport const odoo19Api = new Odoo19API();","map":{"version":3,"names":["ODOO_URL","process","env","REACT_APP_ODOO_URL","ODOO_DB","REACT_APP_ODOO_DB","Odoo19API","constructor","uid","authenticate","username","password","response","fetch","method","headers","body","JSON","stringify","jsonrpc","params","service","args","id","data","json","error","Error","message","result","console","executeKw","model","kwargs","Math","floor","random","getEmployeeData","employeeId","_userData$","userData","employee_id","_userData$2","_userData$3","name","work_email","email","job_title","work_location","employeeData","searchRead","domain","fields","limit","odoo19Api"],"sources":["C:/Users/Baker Harb/Documents/GitHub/My-Portfolio/src/services/odoo19API.js"],"sourcesContent":["\r\nconst ODOO_URL = process.env.REACT_APP_ODOO_URL || 'https://ahmadnuman-dev.odoo.com';\r\nconst ODOO_DB = process.env.REACT_APP_ODOO_DB || 'ahmadnuman-dev';\r\n\r\nexport class Odoo19API {\r\n    constructor() {\r\n        this.uid = null;\r\n    }\r\n\r\n    async authenticate(username, password) {\r\n        try {\r\n            const response = await fetch(`${ODOO_URL}/jsonrpc/2`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({\r\n                    jsonrpc: \"2.0\",\r\n                    method: \"call\",\r\n                    params: {\r\n                        service: \"common\",\r\n                        method: \"authenticate\",\r\n                        args: [ODOO_DB, username, password, {}]\r\n                    },\r\n                    id: 1\r\n                })\r\n            });\r\n\r\n            const data = await response.json();\r\n            \r\n            if (data.error) {\r\n                throw new Error(data.error.data.message || 'Authentication failed');\r\n            }\r\n            \r\n            this.uid = data.result;\r\n            return data.result;\r\n        } catch (error) {\r\n            console.error('Authentication error:', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    async executeKw(model, method, args = [], kwargs = {}) {\r\n        const response = await fetch(`${ODOO_URL}/jsonrpc/2`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n                jsonrpc: \"2.0\",\r\n                method: \"call\",\r\n                params: {\r\n                    service: \"object\",\r\n                    method: \"execute_kw\",\r\n                    args: [\r\n                        ODOO_DB,\r\n                        this.uid,\r\n                        'password',\r\n                        model,\r\n                        method,\r\n                        args,\r\n                        kwargs\r\n                    ]\r\n                },\r\n                id: Math.floor(Math.random() * 1000)\r\n            })\r\n        });\r\n\r\n        const data = await response.json();\r\n        \r\n        if (data.error) {\r\n            throw new Error(data.error.data.message || 'API Error');\r\n        }\r\n        \r\n        return data.result;\r\n    }\r\n\r\n    async getEmployeeData(employeeId = null) {\r\n        try {\r\n            if (!employeeId) {\r\n                const userData = await this.executeKw(\r\n                    'res.users',\r\n                    'read',\r\n                    [[this.uid], ['employee_id', 'name', 'email']]\r\n                );\r\n                \r\n                if (userData && userData[0]?.employee_id) {\r\n                    employeeId = userData[0].employee_id[0];\r\n                } else {\r\n                    // If no employee ID, return user data\r\n                    return {\r\n                        name: userData[0]?.name || '',\r\n                        work_email: userData[0]?.email || '',\r\n                        job_title: '',\r\n                        work_location: ''\r\n                    };\r\n                }\r\n            }\r\n\r\n            // Get employee details\r\n            const employeeData = await this.executeKw(\r\n                'hr.employee',\r\n                'read',\r\n                [\r\n                    [employeeId],\r\n                    [\r\n                        'name', \r\n                        'job_title', \r\n                        'work_email', \r\n                        'work_phone',\r\n                        'work_location', \r\n                        'image_1920',\r\n                        'department_id',\r\n                        'parent_id',\r\n                        'coach_id',\r\n                        'linkedin_profile',\r\n                        'github_profile'\r\n                    ]\r\n                ]\r\n            );\r\n\r\n            return employeeData ? employeeData[0] : null;\r\n        } catch (error) {\r\n            console.error('Error getting employee data:', error);\r\n            return null;\r\n        }\r\n    }\r\n\r\n    // Simple search method\r\n    async searchRead(model, domain = [], fields = [], limit = 80) {\r\n        return this.executeKw(model, 'search_read', [\r\n            domain,\r\n            fields,\r\n            0, // offset\r\n            limit\r\n        ]);\r\n    }\r\n}\r\n\r\n// Create and export instance\r\nexport const odoo19Api = new Odoo19API();"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}